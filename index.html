<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Endfield Pull Odds Simulator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { background: linear-gradient(to bottom, #0f0f1a, #1a1a2e); color: #e0e0ff; font-family: system-ui, sans-serif; }
    .accent { accent-color: #e94560; }
    input[type=range]::-webkit-slider-thumb { background: #e94560; border: 3px solid white; }
  </style>
</head>
<body class="min-h-screen p-4 md:p-8">

  <div class="max-w-4xl mx-auto bg-gray-900/60 backdrop-blur rounded-2xl p-6 md:p-10 border border-purple-500/30 shadow-2xl">
    <h1 class="text-3xl font-bold text-center mb-8 text-purple-400">Endfield Pull Odds Simulator</h1>

    <!-- Tabs -->
    <div class="flex flex-wrap justify-center gap-4 mb-8">
      <button data-tab="beginner" class="tab px-6 py-3 rounded-full bg-gray-800 hover:bg-gray-700 data-[active]:bg-purple-600 data-[active]:text-white transition">Beginner</button>
      <button data-tab="basic" class="tab px-6 py-3 rounded-full bg-gray-800 hover:bg-gray-700 data-[active]:bg-purple-600 data-[active]:text-white transition">Basic</button>
      <button data-tab="limited" class="tab px-6 py-3 rounded-full bg-gray-800 hover:bg-gray-700 data-[active]:bg-purple-600 data-[active]:text-white transition">Limited</button>
    </div>

    <!-- Inputs -->
    <div class="space-y-6 mb-8">
      <div>
        <label class="block text-sm mb-2">Oroberyl Owned</label>
        <input type="number" id="oroberryl" value="0" min="0" class="w-full p-3 bg-gray-800 border border-purple-500/50 rounded-lg text-xl">
      </div>

      <div>
        <label class="block text-sm mb-2">Current Pity</label>
        <input type="range" id="pity" min="0" max="79" value="0" class="w-full accent">
        <div id="pityVal" class="text-center text-xl mt-2 text-purple-300">0</div>
      </div>

      <div id="sparkSection" class="hidden">
        <label class="block text-sm mb-2">Current Spark (Limited only)</label>
        <input type="range" id="spark" min="0" max="119" value="0" class="w-full accent">
        <div id="sparkVal" class="text-center text-xl mt-2 text-purple-300">0</div>
      </div>

      <div class="text-center text-lg">
        Max Pulls: <span id="maxPulls" class="font-bold text-purple-300">0</span>
      </div>
    </div>

    <!-- The missing button - now clearly here -->
    <button id="calcBtn" class="w-full py-5 bg-purple-600 hover:bg-purple-500 rounded-xl text-xl font-bold transition">
      Calculate Odds (10,000 Simulations)
    </button>

    <!-- Results -->
    <div id="results" class="mt-10 hidden">
      <div id="warning" class="hidden p-4 bg-red-900/50 border border-red-500 rounded-lg mb-6"></div>
      <div id="stats" class="grid gap-6 md:grid-cols-2"></div>
      <canvas id="chart" class="mt-8" height="200"></canvas>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
