<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Endfield Pull Planner</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-[#0a0a14] text-[#e0e0ff] min-h-screen pb-12">
  <div class="max-w-5xl mx-auto px-4 pt-8">
    <div class="flex justify-between items-end mb-10">
      <div>
        <h1 class="text-4xl font-bold tracking-tighter text-[#e94560]">Endfield</h1>
        <p class="text-2xl font-light text-[#9ca3af]">Pull Planner</p>
      </div>
      <a href="https://ko-fi.com/YOUR_USERNAME" class="bg-[#e94560] px-6 py-3 rounded-xl font-medium flex items-center gap-2 hover:bg-[#ff5e7a]">
        ☕ Support the Tool
      </a>
    </div>

    <!-- Banner / Character Selector -->
    <div class="mb-8">
      <label class="text-xs uppercase tracking-widest text-gray-400 block mb-2">Select Character / Banner</label>
      <select id="bannerSelect" class="w-full bg-[#1a1a2e] border border-[#3b3b5a] rounded-2xl px-5 py-4 text-lg focus:outline-none focus:border-[#e94560]">
        <!-- Populated by JS -->
      </select>
    </div>

    <div id="bannerInfo" class="bg-[#1a1a2e] border border-[#3b3b5a] rounded-3xl p-5 mb-8 flex justify-between items-center">
      <!-- Filled by JS -->
    </div>

    <!-- Mode Toggle -->
    <div class="flex gap-2 mb-8 bg-[#1a1a2e] p-1 rounded-2xl w-fit">
      <button id="modeForward" class="mode-btn px-8 py-3 rounded-xl font-medium data-[active=true]:bg-[#e94560] data-[active=true]:text-white">Current Resources → Odds</button>
      <button id="modeReverse" class="mode-btn px-8 py-3 rounded-xl font-medium data-[active=true]:bg-[#e94560] data-[active=true]:text-white">Target Pulls → Currency Needed</button>
    </div>

    <!-- Inputs -->
    <div class="grid md:grid-cols-2 gap-6 mb-8">
      <div class="space-y-6">
        <div>
          <label class="block text-sm mb-1.5">Oroberyl Owned</label>
          <input type="number" id="oro" value="0" class="w-full bg-[#1a1a2e] border border-[#3b3b5a] rounded-2xl px-6 py-4 text-3xl font-mono focus:border-[#e94560]">
        </div>
        <div>
          <label class="block text-sm mb-1.5">Premium Currency Owned</label>
          <input type="number" id="premium" value="0" class="w-full bg-[#1a1a2e] border border-[#3b3b5a] rounded-2xl px-6 py-4 text-3xl font-mono focus:border-[#e94560]">
          <div class="text-xs text-gray-500 mt-1">Auto-converts to Oroberyl (1:500)</div>
        </div>
      </div>

      <div class="space-y-6">
        <div>
          <label class="block text-sm mb-1.5">Current Pity</label>
          <input type="range" id="pity" min="0" max="79" value="0" class="w-full accent-[#e94560]">
          <div id="pityVal" class="text-center text-3xl font-mono text-[#e94560] mt-2">0</div>
        </div>

        <div id="sparkContainer" class="hidden">
          <label class="block text-sm mb-1.5">Current Spark Progress</label>
          <input type="range" id="spark" min="0" max="119" value="0" class="w-full accent-[#e94560]">
          <div id="sparkVal" class="text-center text-3xl font-mono text-[#e94560] mt-2">0</div>
        </div>

        <div id="targetPullsContainer" class="hidden">
          <label class="block text-sm mb-1.5">Target Pulls (e.g. 120 for spark)</label>
          <input type="number" id="targetPulls" value="120" min="1" class="w-full bg-[#1a1a2e] border border-[#3b3b5a] rounded-2xl px-6 py-4 text-3xl font-mono focus:border-[#e94560]">
        </div>
      </div>
    </div>

    <button id="calculateBtn" class="w-full py-6 bg-[#e94560] hover:bg-[#ff5e7a] rounded-3xl text-2xl font-bold transition active:scale-95">
      Calculate
    </button>

    <!-- Results -->
    <div id="resultsArea" class="mt-12 hidden">
      <div id="warningBox" class="hidden bg-red-950 border-l-4 border-red-500 p-6 rounded-2xl mb-8"></div>
      <div id="mainResult" class="text-5xl font-bold text-center mb-2"></div>
      <div id="subResult" class="text-xl text-center text-gray-400 mb-10"></div>
      <canvas id="distChart" height="240"></canvas>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
